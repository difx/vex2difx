#!/bin/bash

# vex2script automated test script

# compare function
# param 1: project; param 2:antenna
function compare {
  SCRIPT=`echo ${1} | tr '[:lower:]' '[:upper:]'`
  vex2script ${1}.vex &> /dev/null
  # remove unused output
  for A in SC HN NL FD LA PT KP OV BR MK GB; do
    if [ $2 != $A ]; then
      rm -f ${SCRIPT}.${A}.py
    fi
  done
  # remove comments
  cat ${SCRIPT}.${2}.py.out | `which grep` -v "^#" > /tmp/project.py.orig
  cat ${SCRIPT}.${2}.py     | `which grep` -v "^#" > /tmp/project.py
  #compare
  if [ "x`diff -q /tmp/project.py.orig /tmp/project.py`" != "x" ]; then
    echo "  ATTENTION - output has changed!  <--------------"
    diff ${SCRIPT}.${2}.py ${SCRIPT}.${2}.py.out &> /tmp/${SCRIPT}.${2}.diff
    echo "  Check /tmp/${SCRIPT}.${2}.diff"
  else
    echo "  Output unchanged"
  fi
  rm -f /tmp/project.py.orig /tmp/project.py
}

# Verified outputs have a ".out" extensions. Current build outputs have the regular
# output names, <filename>.<ant>.py. Compared these two to find deviations. If
# any deviations are found and verified to be by design, copy the new output
# files to ".out".
echo""
echo""
echo "==== vex2script Automated Test Script (v0.1) ========="
echo""

echo "  remove old out files"
rm -f *.py
echo""

#=============================================================================
# GB test: bm352g0.vex
echo -n "GB Test 1 - PFB, 2IF                            "
script=bm352g0
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=GB
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
# USNO test: n3204.vex
if [ 1 == 0 ]; then
echo -n "USNO Test (PFB, 2IF (4/12))                     "
script=n3204
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=PT
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi
fi
echo -n "USNO Test (PFB, 2IF (4/12))                     "
compare n3204 PT

#=============================================================================
# PFB - 1 IF
echo -n "PFB 1IF rec (1 and 2 IF)                        "
script=bl175cv
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=SC
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi

   
#=============================================================================
# PFB - 2 IF: bl188b.vex
echo -n "PFB 2IF rec                                     "
script=bl188b
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=MK
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi

   
#=============================================================================
# PFB - 1 IF (mix of 1 and 2 IF) - non-recording: br145ya.vex
echo -n "PFB 1IF nonrec                                  "
script=br145ya
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=KP
vex2script ${script}.vex --mark5a &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
# PFB - 2 IF - non-recording: bd170ar.vex 
echo -n "PFB 2IF nonrecc (8/8)                           "
script=bd170ar
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=LA
vex2script ${script}.vex --mark5a &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo "pointing - PFB?"
script=tjul28p
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=KP
vex2script ${script}.vex -mark5a &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py 
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo "DDC - 1 DBE - Mark5B - 1 IF - 1 channel"
script=bn048c.1Ch.1
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=FD
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py 
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo "DDC - 1 DBE - Mark5B - 1 IF - 2 channel            "
script=bn048c.2Ch.2
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=MK
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py 
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo "DDC - 1 DBE - Mark5B - 1 IF - 3 channel            "
script=bn048c.3Ch.3
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=LA
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py 
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo -n "DDC - 1 DBE - Mark5B - 1 (and 2) IF - 4 channel "
script=bn048c
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=LA
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py 
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo -n "DDC - 1 DBE - Mark5B - 2 IF (1/1) - 2 channel   "
script=bm353o.2Ch.1.1
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=KP
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo -n "DDC - 1 DBE - Mark5B - 2 IF (2/1) - 3 channel   "
script=bm353o.3Ch.2.1
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=FD
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo -n "DDC - 1 DBE - Mark5B - 2 IF (2/2) - 4 channel   "
script=bm353o
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=OV
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo -n "DDC - 1 DBE - VDIF - 1 IF - 1 channel           "
script=tt001c.1ch
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=NL
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo -n "DDC - 1 DBE - VDIF - 1 IF - 2 channel           "
script=tt001c.2ch
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=NL
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo -n "DDC - 1 DBE - VDIF - 1 IF - 3 channel           "
script=tt001c.3ch
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=NL
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo -n "DDC - 1 DBE - VDIF - 1 IF - 4 channel           "
script=tt001c.4ch
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=NL
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi



#=============================================================================
echo -n "DDC - 1 DBE - VDIF - 2 IF - 2 channel           "
script=tt001c.2ch.1.1
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=BR
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo -n "DDC - 1 DBE - VDIF - 2 IF (1/2) - 3 channel     "
script=tt001c.3ch.1.2
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=FD
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo -n "DCC - 1 DBE - VDIF - 2 IF (2/1) - 3 channel     "
script=tt001c.3ch.2.1
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=SC
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi



#=============================================================================
echo -n "DDC - 1 DBE - VDIF - 2 IF (1/3) - 4 channel     "
script=tt001c.4ch.1.3
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=OV
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo -n "DDC - 1 DBE - VDIF - 2 IF (2/2) - 4 channel     "
script=tt001c.4ch
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=PT
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo -n "DDC - 1 DBE - VDIF - 2 IF (3/1) - 4 channel     "
script=tt001c.4ch.3.1
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=HN
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
# DDC - 2 DBE - VDIF - 1 IF - 1 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 1 IF - 2 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 1 IF - 3 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 1 IF - 4 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 1 IF - 5 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 1 IF - 6 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 1 IF - 7 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 1 IF - 8 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 2 IF - 1 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 2 IF - 2 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 2 IF - 3 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 2 IF - 4 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 2 IF - 5 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 2 IF - 6 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 2 IF - 7 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 2 IF - 8 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 3 IF - 3 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 3 IF - 4 channel

#=============================================================================
echo -n "DDC - 2 DBE - VDIF - 3 IF (2/2/1) - 5 channel   "
script=tx006c.5ch.2.2.1
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=HN
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo -n "DDC - 2 DBE - VDIF - 3 IF (3/1/2) - 6 channel   "
script=tx006c.6ch.3.1.2
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=OV
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
# DDC - 2 DBE - VDIF - 3 IF - 7 channel

#=============================================================================
echo -n "DDC - 2 DBE - VDIF - 3 IF (5/1/2) - 8 channel   "
script=tx006c.8ch.5.1.2
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=HN
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
# DDC - 2 DBE - VDIF - 4 IF (1/1/1/1) - 4 channel

#=============================================================================
# DDC - 2 DBE - VDIF - 4 IF - 5 channel

#=============================================================================
echo -n "DDC - 2 DBE - VDIF - 4 IF (2/1/2/1)- 6 channel  "
script=tx006c.6ch.2.1.2.1
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=HN
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo -n "DDC - 2 DBE - VDIF - 4 IF (2/2/1/1)- 6 channel  "
script=tx006c.6ch.2.2.1.1
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=HN
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo -n "DDC - 2 DBE - VDIF - 4 IF (2/2/2/1)- 7 channel  "
script=tx006c.7ch.2.2.2.1
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=HN
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo -n "DDC - 2 DBE - VDIF - 4 IF (2/2/2/2)- 8 channel  "
script=tx006c.8ch.2.2.2.2
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=HN
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================
echo -n "DDC - 2 DBE - VDIF - 4 IF (1/3/2/2)- 8 channel  "
script=tx006c.8ch.1.3.2.2
SCRIPT=`echo ${script} | tr '[:lower:]' '[:upper:]'`
ANT=NL
vex2script ${script}.vex &> /dev/null
# remove unused output
for A in SC HN NL FD LA PT KP OV BR MK; do
  if [ $ANT != $A ]; then
    rm -f ${SCRIPT}.${A}.py
  fi
done
#compare
if [ "x`diff -q ${SCRIPT}.${ANT}.py.out ${SCRIPT}.${ANT}.py`" != "x" ]; then
  echo "  ATTENTION - output has changed!  <--------------"
  diff ${SCRIPT}.${ANT}.py ${SCRIPT}.${ANT}.py.out &> /tmp/${SCRIPT}.${ANT}.diff
  echo "  Check /tmp/${SCRIPT}.${ANT}.diff"
else
  echo "  Output unchanged"
fi


#=============================================================================

